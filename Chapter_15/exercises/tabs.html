<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Tabs</title>
    </head>

    <body>
        <tab-panel>
            <div data-tabname="one">Tab one</div>
            <div data-tabname="two">Tab two</div>
            <div data-tabname="three">Tab three</div>
          </tab-panel>

        <script>
            function asTabs(node) {
                let tabs = document.getElementsByTagName("div");
                for(let i = tabs.length - 1; i >= 0; i--) {
                    let tab = tabs[i];
                    if (i != 0) tab.style.display = "none";
                    let button = document.createElement("button");
                    button.textContent = tab.getAttribute("data-tabname");
                    button.addEventListener("mousedown", event => {
                        for (let tab of tabs) {
                            if(tab.getAttribute("data-tabname") == event.target.textContent) {
                                tab.style.display = "";
                            } else {
                                tab.style.display = "none";
                            }
                        }
                        let buttons = document.querySelectorAll("button");
                        for(let b of buttons) {
                            b.style.background = "";
                        }
                        event.target.style.background = "gainsboro";
                    });
                    node.insertBefore(button, node.firstChild);
                }
                
            }
            asTabs(document.querySelector("tab-panel"));
        </script>
    </body>
</html>